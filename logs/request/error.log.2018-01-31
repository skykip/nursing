{"date":"Wed Jan 31 2018 11:54:31 GMT+0800 (CST)","process":{"pid":87047,"uid":501,"gid":20,"cwd":"/Users/yzl/svn/server","execPath":"/usr/local/bin/node","version":"v8.9.0","argv":["/usr/local/bin/node","/Users/yzl/svn/server/bin/server"],"memoryUsage":{"rss":73850880,"heapTotal":45531136,"heapUsed":37845536,"external":111842}},"os":{"loadavg":[3.06494140625,2.818359375,2.9912109375],"uptime":700800},"trace":[{"column":9,"file":"/Users/yzl/svn/server/controllers/admin/orders.js","function":null,"line":629,"method":null,"native":false},{"column":null,"file":null,"function":"Generator.next","line":null,"method":"next","native":false},{"column":19,"file":"/Users/yzl/svn/server/node_modules/co/index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":23,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":57,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._resolveCallback","line":432,"method":"_resolveCallback","native":false},{"column":17,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":524,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":19,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise_array.js","function":"MappingPromiseArray.PromiseArray._resolve","line":126,"method":"_resolve","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/map.js","function":"MappingPromiseArray._promiseFulfilled","line":101,"method":"_promiseFulfilled","native":false},{"column":26,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":574,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":57,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._resolveCallback","line":432,"method":"_resolveCallback","native":false}],"stack":["ReferenceError: works is not defined","    at /Users/yzl/svn/server/controllers/admin/orders.js:629:9","    at Generator.next (<anonymous>)","    at onFulfilled (/Users/yzl/svn/server/node_modules/co/index.js:65:19)","    at tryCatcher (/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js:16:23)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:512:31)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at Promise._resolveCallback (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:432:57)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:524:17)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at MappingPromiseArray.PromiseArray._resolve (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise_array.js:126:19)","    at MappingPromiseArray._promiseFulfilled (/Users/yzl/svn/server/node_modules/bluebird/js/release/map.js:101:18)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:574:26)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at Promise._resolveCallback (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:432:57)"],"req":{"url":"/api/admin/orders/","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"123","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","postman-token":"e5fc3df3-09d5-66dc-fc26-9e834cb71bdf","content-type":"application/x-www-form-urlencoded","accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.9"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/admin/orders/","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-01-31T03:54:31.298Z"}
{"date":"Wed Jan 31 2018 13:42:13 GMT+0800 (CST)","process":{"pid":87349,"uid":501,"gid":20,"cwd":"/Users/yzl/svn/server","execPath":"/usr/local/bin/node","version":"v8.9.0","argv":["/usr/local/bin/node","/Users/yzl/svn/server/bin/server"],"memoryUsage":{"rss":48807936,"heapTotal":43433984,"heapUsed":38119120,"external":122338}},"os":{"loadavg":[2.7978515625,3.6826171875,3.43408203125],"uptime":707262},"trace":[{"column":28,"file":"/Users/yzl/svn/server/controllers/admin/orders.js","function":"getAllOrders","line":616,"method":null,"native":false},{"column":5,"file":"/Users/yzl/svn/server/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/yzl/svn/server/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":24,"file":"/Users/yzl/svn/server/controllers/admin/orders.js","function":null,"line":314,"method":null,"native":false},{"column":null,"file":null,"function":"Generator.next","line":null,"method":"next","native":false},{"column":19,"file":"/Users/yzl/svn/server/node_modules/co/index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":23,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":21,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":582,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":57,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._resolveCallback","line":432,"method":"_resolveCallback","native":false},{"column":17,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":524,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false}],"stack":["ReferenceError: region is not defined","    at getAllOrders (/Users/yzl/svn/server/controllers/admin/orders.js:616:28)","    at Layer.handle [as handle_request] (/Users/yzl/svn/server/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/yzl/svn/server/node_modules/express/lib/router/route.js:137:13)","    at /Users/yzl/svn/server/controllers/admin/orders.js:314:24","    at Generator.next (<anonymous>)","    at onFulfilled (/Users/yzl/svn/server/node_modules/co/index.js:65:19)","    at tryCatcher (/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js:16:23)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:512:31)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:582:21)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at Promise._resolveCallback (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:432:57)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:524:17)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)"],"req":{"url":"/api/admin/orders/","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"135","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","postman-token":"ba516e6f-eba6-074e-0bbf-75751303a4f2","content-type":"application/x-www-form-urlencoded","accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.9"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/admin/orders/","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-01-31T05:42:13.390Z"}
{"date":"Wed Jan 31 2018 13:42:33 GMT+0800 (CST)","process":{"pid":87349,"uid":501,"gid":20,"cwd":"/Users/yzl/svn/server","execPath":"/usr/local/bin/node","version":"v8.9.0","argv":["/usr/local/bin/node","/Users/yzl/svn/server/bin/server"],"memoryUsage":{"rss":43982848,"heapTotal":43958272,"heapUsed":39748200,"external":164909}},"os":{"loadavg":[2.5029296875,3.556640625,3.39404296875],"uptime":707282},"trace":[{"column":28,"file":"/Users/yzl/svn/server/controllers/admin/orders.js","function":"getAllOrders","line":616,"method":null,"native":false},{"column":5,"file":"/Users/yzl/svn/server/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/yzl/svn/server/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":24,"file":"/Users/yzl/svn/server/controllers/admin/orders.js","function":null,"line":314,"method":null,"native":false},{"column":null,"file":null,"function":"Generator.next","line":null,"method":"next","native":false},{"column":19,"file":"/Users/yzl/svn/server/node_modules/co/index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":23,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":21,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":582,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":57,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._resolveCallback","line":432,"method":"_resolveCallback","native":false},{"column":17,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":524,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false}],"stack":["ReferenceError: region is not defined","    at getAllOrders (/Users/yzl/svn/server/controllers/admin/orders.js:616:28)","    at Layer.handle [as handle_request] (/Users/yzl/svn/server/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/yzl/svn/server/node_modules/express/lib/router/route.js:137:13)","    at /Users/yzl/svn/server/controllers/admin/orders.js:314:24","    at Generator.next (<anonymous>)","    at onFulfilled (/Users/yzl/svn/server/node_modules/co/index.js:65:19)","    at tryCatcher (/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js:16:23)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:512:31)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:582:21)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at Promise._resolveCallback (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:432:57)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:524:17)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)"],"req":{"url":"/api/admin/orders/","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"135","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","postman-token":"702fd9a0-0d7f-ebe6-6f46-41b2e97dbae4","content-type":"application/x-www-form-urlencoded","accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.9"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/admin/orders/","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-01-31T05:42:33.343Z"}
{"date":"Wed Jan 31 2018 13:42:40 GMT+0800 (CST)","process":{"pid":87349,"uid":501,"gid":20,"cwd":"/Users/yzl/svn/server","execPath":"/usr/local/bin/node","version":"v8.9.0","argv":["/usr/local/bin/node","/Users/yzl/svn/server/bin/server"],"memoryUsage":{"rss":51183616,"heapTotal":44482560,"heapUsed":40242512,"external":200851}},"os":{"loadavg":[2.38232421875,3.51416015625,3.3798828125],"uptime":707289},"trace":[{"column":28,"file":"/Users/yzl/svn/server/controllers/admin/orders.js","function":"getAllOrders","line":616,"method":null,"native":false},{"column":5,"file":"/Users/yzl/svn/server/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/yzl/svn/server/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":24,"file":"/Users/yzl/svn/server/controllers/admin/orders.js","function":null,"line":314,"method":null,"native":false},{"column":null,"file":null,"function":"Generator.next","line":null,"method":"next","native":false},{"column":19,"file":"/Users/yzl/svn/server/node_modules/co/index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":23,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":21,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":582,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":57,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._resolveCallback","line":432,"method":"_resolveCallback","native":false},{"column":17,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":524,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false}],"stack":["ReferenceError: region is not defined","    at getAllOrders (/Users/yzl/svn/server/controllers/admin/orders.js:616:28)","    at Layer.handle [as handle_request] (/Users/yzl/svn/server/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/yzl/svn/server/node_modules/express/lib/router/route.js:137:13)","    at /Users/yzl/svn/server/controllers/admin/orders.js:314:24","    at Generator.next (<anonymous>)","    at onFulfilled (/Users/yzl/svn/server/node_modules/co/index.js:65:19)","    at tryCatcher (/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js:16:23)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:512:31)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:582:21)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at Promise._resolveCallback (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:432:57)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:524:17)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)"],"req":{"url":"/api/admin/orders/","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"135","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","postman-token":"68b41aad-152e-4744-bda6-4823bea527d3","content-type":"application/x-www-form-urlencoded","accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.9"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/admin/orders/","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-01-31T05:42:40.181Z"}
{"date":"Wed Jan 31 2018 13:44:55 GMT+0800 (CST)","process":{"pid":87427,"uid":501,"gid":20,"cwd":"/Users/yzl/svn/server","execPath":"/usr/local/bin/node","version":"v8.9.0","argv":["/usr/local/bin/node","/Users/yzl/svn/server/bin/server"],"memoryUsage":{"rss":96165888,"heapTotal":45006848,"heapUsed":37488400,"external":136361}},"os":{"loadavg":[2.943359375,3.2236328125,3.27294921875],"uptime":707424},"trace":[{"column":13,"file":"/Users/yzl/svn/server/node_modules/sequelize/lib/model.js","function":"Function._getIncludedAssociation","line":582,"method":"_getIncludedAssociation","native":false},{"column":53,"file":"/Users/yzl/svn/server/node_modules/sequelize/lib/model.js","function":"Function._validateIncludedElement","line":498,"method":"_validateIncludedElement","native":false},{"column":37,"file":"/Users/yzl/svn/server/node_modules/sequelize/lib/model.js","function":"options.include.options.include.map.include","line":394,"method":"include","native":false},{"column":null,"file":null,"function":"Array.map","line":null,"method":"map","native":false},{"column":39,"file":"/Users/yzl/svn/server/node_modules/sequelize/lib/model.js","function":"Function._validateIncludedElements","line":390,"method":"_validateIncludedElements","native":false},{"column":14,"file":"/Users/yzl/svn/server/node_modules/sequelize/lib/model.js","function":"Promise.try.then.then","line":1568,"method":"then","native":false},{"column":23,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":16,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/async.js","function":"Async._drainQueue","line":133,"method":"_drainQueue","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":14,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/async.js","function":"Immediate.Async.drainQueues","line":17,"method":"drainQueues","native":false},{"column":20,"file":"timers.js","function":"runCallback","line":789,"method":null,"native":false},{"column":5,"file":"timers.js","function":"tryOnImmediate","line":751,"method":null,"native":false},{"column":5,"file":"timers.js","function":"processImmediate [as _immediateCallback]","line":722,"method":null,"native":false}],"stack":["SequelizeEagerLoadingError: service is not associated to order!","    at Function._getIncludedAssociation (/Users/yzl/svn/server/node_modules/sequelize/lib/model.js:582:13)","    at Function._validateIncludedElement (/Users/yzl/svn/server/node_modules/sequelize/lib/model.js:498:53)","    at options.include.options.include.map.include (/Users/yzl/svn/server/node_modules/sequelize/lib/model.js:394:37)","    at Array.map (<anonymous>)","    at Function._validateIncludedElements (/Users/yzl/svn/server/node_modules/sequelize/lib/model.js:390:39)","    at Promise.try.then.then (/Users/yzl/svn/server/node_modules/sequelize/lib/model.js:1568:14)","    at tryCatcher (/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js:16:23)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:512:31)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Async._drainQueue (/Users/yzl/svn/server/node_modules/bluebird/js/release/async.js:133:16)","    at Async._drainQueues (/Users/yzl/svn/server/node_modules/bluebird/js/release/async.js:143:10)","    at Immediate.Async.drainQueues (/Users/yzl/svn/server/node_modules/bluebird/js/release/async.js:17:14)","    at runCallback (timers.js:789:20)","    at tryOnImmediate (timers.js:751:5)","    at processImmediate [as _immediateCallback] (timers.js:722:5)"],"req":{"url":"/api/admin/orders/","headers":{"host":"localhost:8080","connection":"keep-alive","content-length":"135","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36","cache-control":"no-cache","origin":"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop","postman-token":"3b058b2e-36c6-38bb-c927-1f4451bd096f","content-type":"application/x-www-form-urlencoded","accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.9"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/admin/orders/","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-01-31T05:44:56.002Z"}
{"date":"Wed Jan 31 2018 17:17:09 GMT+0800 (CST)","process":{"pid":3736,"uid":501,"gid":20,"cwd":"/Users/yzl/svn/server","execPath":"/usr/local/bin/node","version":"v8.9.0","argv":["/usr/local/bin/node","/Users/yzl/svn/server/bin/server"],"memoryUsage":{"rss":71647232,"heapTotal":46579712,"heapUsed":41900248,"external":111172}},"os":{"loadavg":[2.67431640625,2.8740234375,2.9169921875],"uptime":8001},"trace":[{"column":18,"file":"/Users/yzl/svn/server/errors/base-error.js","function":"new BaseError","line":3,"method":null,"native":false},{"column":12,"file":"/Users/yzl/svn/server/errors/index.js","function":"Object.newError","line":16,"method":"newError","native":false},{"column":28,"file":"/Users/yzl/svn/server/controllers/client/orders.js","function":"checkOrderOwner","line":210,"method":null,"native":false},{"column":5,"file":"/Users/yzl/svn/server/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/yzl/svn/server/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":13,"file":"/Users/yzl/svn/server/controllers/client/orders.js","function":null,"line":198,"method":null,"native":false},{"column":23,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":57,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._resolveCallback","line":432,"method":"_resolveCallback","native":false},{"column":17,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromiseFromHandler","line":524,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._fulfill","line":638,"method":"_fulfill","native":false},{"column":19,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise_array.js","function":"MappingPromiseArray.PromiseArray._resolve","line":126,"method":"_resolve","native":false},{"column":18,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/map.js","function":"MappingPromiseArray._promiseFulfilled","line":101,"method":"_promiseFulfilled","native":false},{"column":26,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise","line":574,"method":"_settlePromise","native":false},{"column":10,"file":"/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false}],"stack":["Error","    at new BaseError (/Users/yzl/svn/server/errors/base-error.js:3:18)","    at Object.newError (/Users/yzl/svn/server/errors/index.js:16:12)","    at checkOrderOwner (/Users/yzl/svn/server/controllers/client/orders.js:210:28)","    at Layer.handle [as handle_request] (/Users/yzl/svn/server/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/yzl/svn/server/node_modules/express/lib/router/route.js:137:13)","    at /Users/yzl/svn/server/controllers/client/orders.js:198:13","    at tryCatcher (/Users/yzl/svn/server/node_modules/bluebird/js/release/util.js:16:23)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:512:31)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at Promise._resolveCallback (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:432:57)","    at Promise._settlePromiseFromHandler (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:524:17)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:569:18)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)","    at Promise._settlePromises (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:693:18)","    at Promise._fulfill (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:638:18)","    at MappingPromiseArray.PromiseArray._resolve (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise_array.js:126:19)","    at MappingPromiseArray._promiseFulfilled (/Users/yzl/svn/server/node_modules/bluebird/js/release/map.js:101:18)","    at Promise._settlePromise (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:574:26)","    at Promise._settlePromise0 (/Users/yzl/svn/server/node_modules/bluebird/js/release/promise.js:614:10)"],"req":{"url":"/api/order/cancelOrder/96?userId=15","headers":{"host":"localhost:8080","connection":"keep-alive","cache-control":"no-cache","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36","postman-token":"cf9d3a05-1450-cb88-a110-8b7ea78928e4","accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.9"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/order/cancelOrder/96?userId=15","query":{"userId":"15"}},"level":"error","message":"middlewareError","timestamp":"2018-01-31T09:17:09.393Z"}
